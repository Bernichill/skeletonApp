<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      <ion-icon name="car-sport-outline"></ion-icon>
      SafeDriving App
    </ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/login">
        <ion-icon name="log-out-outline"></ion-icon>
        Salir
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <ion-toolbar color="light">
    <ion-segment scrollable>
      <ion-segment-button routerLink="/home">
        <ion-icon name="home-outline"></ion-icon>
        <ion-label>Home</ion-label>
      </ion-segment-button>
      <ion-segment-button routerLink="/historial">
        <ion-icon name="time-outline"></ion-icon>
        <ion-label>Historial</ion-label>
      </ion-segment-button>
      <ion-segment-button routerLink="/checklist">
        <ion-icon name="clipboard-outline"></ion-icon>
        <ion-label>CheckList</ion-label>
      </ion-segment-button>
      <ion-segment-button routerLink="/perfil">
        <ion-icon name="person-outline"></ion-icon>
        <ion-label>Perfil</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div class="perfil-container">
    <ion-card class="profile-card">
      <ion-card-header>
        <ion-card-title>¡Bienvenido!</ion-card-title>
        <ion-card-subtitle>{{user.firstName}} {{user.lastName}}</ion-card-subtitle>
      </ion-card-header>
    </ion-card>

    <form #perfilForm="ngForm" (ngSubmit)="onSubmit()">
      <ion-card>
        <ion-card-header>
          <ion-card-title>Información Personal</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-list lines="full">
            <ion-item>
              <ion-icon name="person-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Nombre de Usuario</ion-label>
              <ion-input type="text" [(ngModel)]="user.username" name="username" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon name="person-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Nombre</ion-label>
              <ion-input type="text" [(ngModel)]="user.firstName" name="firstName" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon name="person-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Apellido</ion-label>
              <ion-input type="text" [(ngModel)]="user.lastName" name="lastName" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon name="card-outline" slot="start"></ion-icon>
              <ion-label position="stacked">RUT</ion-label>
              <ion-input type="text" [(ngModel)]="user.rut" name="rut" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon name="call-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Teléfono</ion-label>
              <ion-input type="tel" [(ngModel)]="user.phone" name="phone" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon name="business-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Empresa</ion-label>
              <ion-input type="text" [(ngModel)]="user.empresa" name="empresa" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon name="briefcase-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Cargo</ion-label>
              <ion-input type="text" [(ngModel)]="user.cargo" name="cargo" required></ion-input>
            </ion-item>

            <ion-item>
              <ion-icon name="id-card-outline" slot="start"></ion-icon>
              <ion-label position="stacked">Licencia</ion-label>
              <ion-input type="text" [(ngModel)]="user.licencia" name="licencia" required></ion-input>
            </ion-item>
          </ion-list>
        </ion-card-content>
      </ion-card>

      <div class="action-buttons">
        <ion-button expand="block" type="submit" [disabled]="!perfilForm.valid">
          <ion-icon name="save-outline" slot="start"></ion-icon>
          Guardar Cambios
        </ion-button>
      </div>
    </form>
  </div>
</ion-content>
